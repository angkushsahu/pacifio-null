"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[731],{9427:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var s=t(4942),r=t(4165),a=t(1413),c=t(5861),i=t(9439),o="styles_address__sdaX3",l="styles_delete_address__button__iQkZu",d=t(8119),u=t(2791),p=t(7689),h=t(242),m=t(4459),x=t(5985),b=t(7143),y=t(4353),v=t(184),f=function(){var e=(0,p.UO)().id,n=(0,b.Mz)({id:e}).data,t=(0,p.s0)(),f=(0,b.zh)(),j=(0,i.Z)(f,2),g=j[0],Z=j[1].isLoading,N=(0,b.sH)(),A=(0,i.Z)(N,2),C=A[0],k=A[1].isLoading,w=(0,b.ct)(),_=(0,i.Z)(w,1)[0],E=(0,u.useState)({phoneNumber:0,location:"",city:"",pincode:0,state:"",country:""}),S=(0,i.Z)(E,2),F=S[0],U=S[1];(0,u.useEffect)((function(){null!==n&&void 0!==n&&n.success&&U({phoneNumber:n.address.phoneNumber,location:n.address.location,city:n.address.city,pincode:n.address.pincode,state:n.address.state,country:n.address.country})}),[n]);var z=function(){var s=(0,c.Z)((0,r.Z)().mark((function s(c){var i,o,l,d,u,p,h,m;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),i=F.phoneNumber,o=F.location,l=F.city,d=F.pincode,u=F.state,p=F.country,i&&o&&l&&d&&u&&p){s.next=5;break}return x.Am.warn("Please validate all the fields"),s.abrupt("return");case 5:if(s.prev=5,null===n||void 0===n||!n.success){s.next=13;break}return s.next=9,g((0,a.Z)((0,a.Z)({},F),{},{id:e})).unwrap();case 9:(h=s.sent).success?(x.Am.success(h.message),t(y.Z.shipping)):x.Am.error(h.message),s.next=17;break;case 13:return s.next=15,C((0,a.Z)({},F)).unwrap();case 15:(m=s.sent).success?(x.Am.success(m.message),t(y.Z.shipping)):x.Am.error(m.message);case 17:s.next=22;break;case 19:s.prev=19,s.t0=s.catch(5),x.Am.error(s.t0.data.message||"Unable to set address");case 22:case"end":return s.stop()}}),s,null,[[5,19]])})));return function(e){return s.apply(this,arguments)}}(),D=function(){var n=(0,c.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_({id:e}).unwrap();case 3:(t=n.sent).success?x.Am.success(t.message):x.Am.error(t.message),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),x.Am.error(n.t0.data.message||"Unable to delete address");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),J=function(e){var n=e.target,t=n.name,r=n.value;U((0,a.Z)((0,a.Z)({},F),{},(0,s.Z)({},t,r)))};return k||Z?(0,v.jsx)(d.Z,{}):(0,v.jsx)("main",{className:"form-container ".concat(o),style:{padding:"2rem"},children:(0,v.jsxs)("form",{onSubmit:z,children:[(0,v.jsx)("h2",{className:"text-center",children:e?"Update Address":"Add Address"}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"phoneNumber",children:"Enter your phone number"}),(0,v.jsx)("input",{type:"number",name:"phoneNumber",id:"phoneNumber",placeholder:"e.g. +91 99887 76655",value:F.phoneNumber?F.phoneNumber:"",onChange:J})]}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"location",children:"Enter your location"}),(0,v.jsx)("input",{type:"text",name:"location",id:"location",placeholder:"e.g. In front of xyz bank, Gar-ali, Jorhat",value:F.location,onChange:J})]}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"country",children:"Enter your country"}),(0,v.jsxs)("select",{name:"country",id:"country",value:F.country,onChange:J,children:[(0,v.jsx)("option",{value:"",disabled:!0,children:"-- Select --"}),h.Z.getAllCountries().map((function(e){return(0,v.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)}))]})]}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"state",children:"Enter your state"}),(0,v.jsxs)("select",{name:"state",id:"state",value:F.state,onChange:J,children:[(0,v.jsx)("option",{value:"",disabled:!0,children:"-- Select --"}),m.ZP.getStatesOfCountry(F.country).map((function(e){return(0,v.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)}))]})]}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"city",children:"Enter your city"}),(0,v.jsx)("input",{type:"text",name:"city",id:"city",placeholder:"e.g. Jorhat",value:F.city,onChange:J})]}),(0,v.jsxs)("div",{className:"input-container",children:[(0,v.jsx)("label",{htmlFor:"pincode",children:"Enter your pincode"}),(0,v.jsx)("input",{type:"number",name:"pincode",id:"pincode",placeholder:"e.g. 123456",value:F.pincode?F.pincode:"",onChange:J})]}),(0,v.jsx)("button",{type:"submit",disabled:!1,title:"Set Address",children:"Set Address"}),e?(0,v.jsx)("button",{type:"button",className:l,title:"Delete this address",onClick:D,children:"Delete this address"}):null]})})}}}]);
//# sourceMappingURL=731.47447646.chunk.js.map