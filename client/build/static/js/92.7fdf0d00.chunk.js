"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[92],{3092:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var s="styles_view_product__N1jmP",n="styles_product_description__17NUA",a=r(7689),c="styles_product_images__container__eUtoV",i="styles_product_images__KghVI",u=r(1968),o=r.n(u),l=r(184),d=function(e){var t=e.name,r=e.images;return(0,l.jsx)("section",{className:c,children:(0,l.jsx)(o(),{autoPlay:!0,stopAutoPlayOnHover:!1,duration:1e3,interval:3e3,swipe:!0,navButtonsAlwaysVisible:!0,animation:"slide",sx:{margin:"0 auto"},children:r.map((function(e,r){return(0,l.jsx)("div",{className:i,children:(0,l.jsx)("img",{src:e.pic,alt:t,loading:"lazy"})},r)}))})})},m=r(1413),_=r(4165),p=r(5861),v=r(9439),h="styles_product_info__RRoUc",x="styles_product__in_stock__OEJau",f="styles_product__out_of_stock__OXGn6",j="styles_add_to_cart__container__C7BwP",w="styles_add_to_cart__HCxeS",g="styles_cart_button__container__ngXW-",y="styles_add_to_cart__button__9-fMj",b="styles_description__CZoX+",Z="styles_review_container__AOz-m",k="styles_review__l1zfw",N=r(2791),A=r(5112),C=r(8820),I=r(9838),R=r(7143),S=r(5985),O=function(e){var t=(0,R.MS)(),r=(0,v.Z)(t,2),s=r[0],n=r[1],a=n.isLoading,c=(n.error,(0,R.$B)()),i=(0,v.Z)(c,1)[0],u=e.description,o=e.name,d=e.price,O=e.ratings,F=e.stock,P=e.numberOfReviews,H=e._id,U=(0,N.useState)(1),L=(0,v.Z)(U,2),z=L[0],B=L[1],M=(0,N.useState)(""),W=(0,v.Z)(M,2),G=W[0],T=W[1],V=(0,N.useState)(0),X=(0,v.Z)(V,2),Y=X[0],q=X[1],D=function(){var e=(0,p.Z)((0,_.Z)().mark((function e(t){var r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G){e.next=4;break}return S.Am.warn("Please comment about your experience with this product"),e.abrupt("return");case 4:if(Y){e.next=7;break}return S.Am.warn("Please rate the product"),e.abrupt("return");case 7:return e.prev=7,e.next=10,s({comment:G,productId:H,rating:Y}).unwrap();case 10:(r=e.sent).success?(S.Am.success("Your review was added, thanks for your feedback"),q(0),T("")):S.Am.error(r.message),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),S.Am.error(e.t0.data.message||"Unable to add review");case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var t=(0,p.Z)((0,_.Z)().mark((function t(){var r;return(0,_.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i({productId:e._id,quantity:z}).unwrap();case 3:(r=t.sent).success&&S.Am.success(r.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),S.Am.error(t.t0.data.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:h,children:[(0,l.jsx)("h1",{children:o}),F?(0,l.jsx)("p",{className:x,children:"(In Stock)"}):(0,l.jsx)("p",{className:f,children:"(Out of Stock)"}),(0,l.jsxs)("div",{className:"product_rating",children:[(0,l.jsx)(A.Z,(0,m.Z)((0,m.Z)({},(0,I.Z)(O)),{},{value:O})),P?(0,l.jsxs)("span",{children:["(",P," ",1===P?"review":"reviews",")"]}):null]}),(0,l.jsxs)("h2",{children:["\u20b9 ",d.toFixed(2)]}),(0,l.jsxs)("div",{className:j,children:[(0,l.jsxs)("div",{className:w,children:[(0,l.jsx)("div",{className:g,onClick:function(){z!==F?B((function(e){return e+1})):S.Am.warn("Product stock limit reached")},title:"Add Item",children:(0,l.jsx)(C.Lfi,{})}),(0,l.jsx)("label",{htmlFor:"numberOfItems"}),(0,l.jsx)("input",{type:"text",name:"numberOfItems",id:"numberOfItems",value:z,disabled:!0}),(0,l.jsx)("div",{className:g,onClick:function(){1!==z?B((function(e){return e-1})):S.Am.warn("Cannot go below minimum limit")},title:"Delete Item",children:(0,l.jsx)(C.ywL,{})})]}),(0,l.jsx)("button",{type:"button",title:"Add To Cart",className:y,onClick:K,children:"Add To Cart"})]}),(0,l.jsx)("p",{className:b,children:u}),(0,l.jsxs)("form",{onSubmit:D,className:Z,children:[(0,l.jsx)("h3",{children:"Write a Review"}),(0,l.jsx)("label",{htmlFor:"review"}),(0,l.jsx)("textarea",{name:"review",id:"review",value:G,onChange:function(e){return T(e.target.value)},className:k,placeholder:"Write a review ....",title:"Write a Review"}),(0,l.jsx)(A.Z,(0,m.Z)((0,m.Z)({},(0,I.Z)(Y,!0,30)),{},{onChange:function(e){return q(e)}})),(0,l.jsx)("button",{type:"submit",title:"Submit Review",disabled:a,children:"Submit Review"})]})]})},F="styles_product_reviews__container__a4Mdq",P="styles_product_reviews__T+Gru",H="styles_delete_icon__5IHdf",U="styles_read_more__5HN+5",L="styles_read_less__HNcf+",z=r(337),B=function(e){var t,r=e.rating,s=e.comment,n=e.user,a=e.userName,c=e.productId,i=(0,N.useState)(!0),u=(0,v.Z)(i,2),o=u[0],d=u[1],h=(0,z.CG)((function(e){return e.authSlice})).user,x=(0,R.hI)(),f=(0,v.Z)(x,1)[0],j=function(){d((function(e){return!e}))},w=function(){var e=(0,p.Z)((0,_.Z)().mark((function e(){var t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({productId:c}).unwrap();case 3:(t=e.sent).success?S.Am.success("Your review was removed successfully"):S.Am.error(t.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S.Am.error(e.t0.data.message||"Unable to delete review");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("article",{children:[n===(null===h||void 0===h?void 0:h._id)?(0,l.jsx)(C.YK6,{className:H,title:"Remove your review",onClick:w}):null,(0,l.jsx)("h3",{children:a}),(0,l.jsx)(A.Z,(0,m.Z)({},(0,I.Z)(r))),(t=s,o?t.length<=100?(0,l.jsx)("p",{children:t}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:t.slice(0,100)+"....."}),(0,l.jsx)("p",{className:U,onClick:j,children:"Read More"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:t}),(0,l.jsx)("span",{className:L,onClick:j,children:"Read Less"})]}))]})},M=function(e){var t=e.reviews,r=e.productId;return(0,l.jsxs)("section",{className:F,children:[(0,l.jsx)("h2",{className:"text-center",children:"ProductReviews"}),(0,l.jsx)("div",{className:P,children:t.map((function(e,t){return(0,l.jsx)(B,(0,m.Z)((0,m.Z)({},e),{},{productId:r}),t)}))})]})},W=r(8119),G=function(){var e=(0,a.UO)().productId,t=(0,R.lZ)({id:e}),r=t.isSuccess,c=t.isLoading,i=t.data;return c?(0,l.jsx)(W.Z,{}):r&&i&&i.success?(0,l.jsxs)("div",{className:s,children:[(0,l.jsxs)("div",{className:n,children:[i.product.images.length?(0,l.jsx)(d,{images:i.product.images,name:i.product.name}):null,(0,l.jsx)(O,{_id:i.product._id,name:i.product.name,ratings:i.product.ratings,price:i.product.price,description:i.product.description,stock:i.product.stock,numberOfReviews:i.product.numberOfReviews})]}),i.product.reviews.length?(0,l.jsx)(M,{reviews:i.product.reviews,productId:i.product._id}):null]}):(0,l.jsx)(l.Fragment,{})}},9838:function(e,t){t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3.5,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{edit:t,activeColor:"#FFB300",color:"#808080",value:e,isHalf:!0,size:r}}}}]);
//# sourceMappingURL=92.7fdf0d00.chunk.js.map