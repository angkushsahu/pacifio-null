"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[389],{3389:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});var r="styles_cart__tVDVK",n="styles_cart_info__FYLnM",c="styles_cart_items__JGiHW",a="styles_cart_subtotal__lh0zu",i=s(7143),l=s(8119),o="styles_cart_empty__HGbSH",u="styles_cart_empty__icon__b1tPZ",d=s(1087),_=s(9126),m=s(4353),p=s(184),h=function(){return(0,p.jsxs)("section",{className:o,children:[(0,p.jsx)(_.zuj,{className:u}),(0,p.jsx)("h3",{className:"text-center",children:"Your shopping cart is empty"}),(0,p.jsx)(d.rU,{to:m.Z.home,children:(0,p.jsx)("button",{type:"button",title:"Go to home",children:"Browse Items"})})]})},x=s(4165),j=s(5861),f=s(9439),b="styles_cart_item__cHkdA",y="styles_cart_item__info__UOwRV",v="styles_cart_item__title__DsCjy",g="styles_cart_operations__E6kTn",k="styles_add_to_cart__AVf41",w="styles_cart_button__container__l4x5V",N="styles_delete_item__9LqOc",Z="styles_cart_item__title_quantity__k8ab1",A="styles_cart_item__subtotal__OG+mH",I="styles_cart_item__subtotal__heading__23zBp",U=s(2791),C=s(8820),q=s(4819),V=s(5985),O=function(t){var e,s=t.product,r=t.quantity,n=s.name,c=s.price,a=s.stock,l=s._id,o=null===(e=s.images[0])||void 0===e?void 0:e.pic,u=(0,i.$B)(),_=(0,f.Z)(u,1)[0],m=(0,i.EU)(),h=(0,f.Z)(m,1)[0],O=(0,U.useState)(r),D=(0,f.Z)(O,2),F=D[0],H=D[1],L=c*F,P=function(){var t=(0,j.Z)((0,x.Z)().mark((function t(){var e;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h({id:l}).unwrap();case 3:(e=t.sent).success&&V.Am.success(e.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),V.Am.error(t.t0.data.message||"Unable to delete product from cart");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=(0,j.Z)((0,x.Z)().mark((function t(){var e;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F!==a){t.next=3;break}return V.Am.warn("Product stock limit reached"),t.abrupt("return");case 3:return t.prev=3,t.next=6,_({productId:l,quantity:F+1}).unwrap();case 6:(e=t.sent).success?H((function(t){return t+1})):V.Am.error(e.message),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),V.Am.error(t.t0.data.message||"Unable to increment product items");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=(0,j.Z)((0,x.Z)().mark((function t(){var e;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==F){t.next=3;break}return V.Am.warn("Cannot go below minimum limit"),t.abrupt("return");case 3:return t.prev=3,t.next=6,_({productId:l,quantity:F-1}).unwrap();case 6:(e=t.sent).success?H((function(t){return t-1})):V.Am.error(e.message),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),V.Am.error(t.t0.data.message||"Unable to decrement product items");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();return(0,p.jsxs)("article",{className:b,children:[(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)(d.rU,{to:"/product/".concat(l),title:"View ".concat(n),children:(0,p.jsx)("img",{src:o||q,alt:n,loading:"lazy"})}),(0,p.jsxs)("div",{className:Z,children:[(0,p.jsx)(d.rU,{to:"/product/".concat(l),title:"View ".concat(n),children:(0,p.jsx)("h3",{className:v,children:n.length<=50?n:n.substring(0,50)+" ...."})}),(0,p.jsxs)("div",{className:g,children:[(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)("div",{className:w,onClick:S,title:"Add Item",children:(0,p.jsx)(C.Lfi,{})}),(0,p.jsx)("label",{htmlFor:"numberOfItems"}),(0,p.jsx)("input",{type:"text",name:"numberOfItems",id:"numberOfItems",value:F,disabled:!0}),(0,p.jsx)("div",{className:w,onClick:z,title:"Delete Item",children:(0,p.jsx)(C.ywL,{})})]}),(0,p.jsx)("p",{className:N,title:"Delete this item",onClick:P,children:"Delete"})]})]}),(0,p.jsxs)("h3",{children:["\u20b9 ",c.toFixed(2)]})]}),(0,p.jsxs)("div",{className:A,children:[(0,p.jsxs)("p",{className:I,children:[(0,p.jsx)("span",{children:"Subtotal "}),(0,p.jsxs)("span",{children:["(","".concat(F,1===F?" item":" items"),") : "]})]}),(0,p.jsxs)("h3",{children:["\u20b9 ",L.toFixed(2)]})]})]})},D=function(){var t,e=(0,i.uZ)(),s=e.isLoading,o=e.data;return s?(0,p.jsx)(l.Z,{}):o&&null!==o&&void 0!==o&&o.cart&&o.cart.products.length?(0,p.jsxs)("section",{className:r,children:[(0,p.jsx)("h1",{children:"Your Shopping Cart"}),(0,p.jsxs)("div",{className:n,children:[(0,p.jsx)("section",{className:c,children:null===(t=o.cart.products)||void 0===t?void 0:t.map((function(t){return(0,p.jsx)(O,{product:t.product,quantity:t.quantity},t.product._id)}))}),(0,p.jsxs)("section",{className:a,children:[(0,p.jsx)("h2",{children:"Subtotal"}),(0,p.jsxs)("h3",{children:["Total Items : ",o.cart.products.length]}),(0,p.jsxs)("h3",{children:["Total Price : \u20b9 ",o.cart.subTotal]}),(0,p.jsx)(d.rU,{to:m.Z.shipping,children:(0,p.jsx)("button",{type:"button",title:"Proceed to buy",children:"Proceed to buy"})})]})]})]}):(0,p.jsx)(h,{})}},4819:function(t,e,s){t.exports=s.p+"static/media/imageNotFound.d599199dde84a16b6af4.jfif"}}]);
//# sourceMappingURL=389.2fb38e6b.chunk.js.map