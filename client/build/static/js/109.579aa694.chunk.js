"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[109],{6629:function(s,e,n){n.d(e,{Z:function(){return k}});var c=n(9439),r="styles_admin_sidebar__iYAZA",a="styles_close_sidebar__k-pXo",t="styles_dashboard_title__6sTQS",l="styles_dashboard_options__LiW7p",i="styles_active__ZEbIW",d="styles_dashboard_product__item__jGU0H",o="styles_dashboard_product__options__MifBu",u="styles_add_product__2535-",h="styles_dashboard_product__options__container__QI47V",_="styles_show__0XJbM",x="styles_hide__J3q-7",j="styles_toggle_dashboard__option__h3uH4",m=n(2791),p=n(7689),f=n(1087),b=n(9126),v=n(6355),Z=n(4373),g=n(6856),N=n(1213),U=n(6036),y=n(4353),S=n(184),k=function(){var s=(0,p.TH)().pathname,e=(0,m.useState)(!1),n=(0,c.Z)(e,2),k=n[0],A=n[1],C=s===y.Z.adminDashboard,P=s===y.Z.adminSeeAllOrders||s.includes("/admin/order"),w=s===y.Z.adminSeeAllUsers||s.includes("/admin/user"),O=s===y.Z.adminCreateProduct,R=s===y.Z.adminSeeAllProducts,D=s===y.Z.adminOutOfStockProducts,I=O||R||D||s.includes("/admin/product/update"),T=(0,m.useState)(I),E=(0,c.Z)(T,2),W=E[0],q=E[1],B=function(){A((function(s){return!s}))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("aside",{className:"".concat(r," ").concat(k?_:x),children:[(0,S.jsx)(N.$iT,{className:a,onClick:B}),(0,S.jsxs)("div",{className:"".concat(t," ").concat(l),children:[(0,S.jsx)(g.ZJo,{}),(0,S.jsx)("h3",{children:"Admin Dashboard"})]}),(0,S.jsxs)("ul",{children:[(0,S.jsx)(f.rU,{to:y.Z.adminDashboard,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(C?i:""),children:[(0,S.jsx)(b.oh2,{}),(0,S.jsx)("p",{children:"Stats"})]})}),(0,S.jsx)(f.rU,{to:y.Z.adminSeeAllOrders,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(P?i:""),children:[(0,S.jsx)(g.ili,{}),(0,S.jsx)("p",{children:"Orders"})]})}),(0,S.jsx)(f.rU,{to:y.Z.adminSeeAllUsers,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(w?i:""),children:[(0,S.jsx)(v.I$,{}),(0,S.jsx)("p",{children:"Users"})]})}),(0,S.jsxs)("li",{className:"".concat(l," ").concat(d," ").concat(I?i:""),onClick:function(){return q((function(s){return!s}))},children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(b.aDs,{}),(0,S.jsx)("p",{children:"Products"})]}),W?(0,S.jsx)(g.Yc6,{}):(0,S.jsx)(g.Faw,{})]}),(0,S.jsxs)("ul",{className:"".concat(h," ").concat(W?_:""),children:[(0,S.jsx)(f.rU,{to:y.Z.adminCreateProduct,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(o," ").concat(O?i:""),children:[(0,S.jsx)(b.B8K,{className:u}),(0,S.jsx)("p",{children:"Add Product"})]})}),(0,S.jsx)(f.rU,{to:y.Z.adminSeeAllProducts,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(o," ").concat(R?i:""),children:[(0,S.jsx)(v.Yi$,{}),(0,S.jsx)("p",{children:"All Products"})]})}),(0,S.jsx)(f.rU,{to:y.Z.adminOutOfStockProducts,children:(0,S.jsxs)("li",{className:"".concat(l," ").concat(o," ").concat(D?i:""),children:[(0,S.jsx)(U.KZq,{}),(0,S.jsx)("p",{children:"Out of Stock Products"})]})})]})]})]}),(0,S.jsxs)("button",{type:"button",className:j,onClick:B,title:"Toggle Dashboard",children:[(0,S.jsx)(Z.Bq0,{}),(0,S.jsx)("p",{children:"Admin Dashboard"})]})]})}},9109:function(s,e,n){n.r(e),n.d(e,{default:function(){return m}});var c=n(4165),r=n(5861),a=n(9439),t="styles_admin_workspace__title__Ehgdf",l="styles_user_role__container__kjxQT",i=n(2791),d=n(6355),o=n(6629),u=n(7143),h=n(7689),_=n(5985),x=n(7822),j=n(184),m=function(){var s=(0,h.UO)().id,e=(0,u.WR)({userId:s}),n=e.data,m=e.isLoading,p=(0,u.V1)(),f=(0,a.Z)(p,1)[0],b=(0,i.useState)(""),v=(0,a.Z)(b,2),Z=v[0],g=v[1];(0,i.useEffect)((function(){null!==n&&void 0!==n&&n.success&&g(null===n||void 0===n?void 0:n.user.role)}),[n]);var N=function(){var s=(0,r.Z)((0,c.Z)().mark((function s(e){var r;return(0,c.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),s.prev=1,s.next=4,f({role:Z,userId:null===n||void 0===n?void 0:n.user._id}).unwrap();case 4:(r=s.sent).success&&_.Am.success(r.message),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),_.Am.error(s.t0.data.mesage||"Unable to update role");case 11:case"end":return s.stop()}}),s,null,[[1,8]])})));return function(e){return s.apply(this,arguments)}}();return(0,j.jsxs)("section",{className:"admin-pages",children:[(0,j.jsx)(o.Z,{}),m?(0,j.jsx)("section",{className:"admin-loading--section",children:(0,j.jsx)(x.Z,{})}):n&&n.success?(0,j.jsxs)("section",{className:"admin-workspace",children:[(0,j.jsxs)("h2",{className:t,children:["User # ",n.user._id]}),n.user.pic?(0,j.jsx)("img",{src:n.user.pic,alt:"user avatar",loading:"lazy",title:n.user.name}):(0,j.jsx)(d.m3W,{title:n.user.name}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Name"})," : ",n.user.name]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"E-mail"})," : ",n.user.email]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Role"})," : ",n.user.role]}),(0,j.jsxs)("form",{className:l,onSubmit:N,children:[(0,j.jsx)("label",{htmlFor:"userRole",children:"Change User Role"}),(0,j.jsxs)("select",{name:"userRole",id:"userRole",value:Z,onChange:function(s){return g(s.target.value)},title:"Change role",children:[(0,j.jsx)("option",{value:"",disabled:!0,children:"-- Select --"}),(0,j.jsx)("option",{value:"user",children:"User"}),(0,j.jsx)("option",{value:"admin",children:"Admin"}),(0,j.jsx)("option",{value:"super-admin",children:"Super Admin"})]}),(0,j.jsx)("button",{type:"submit",title:"Update User Role",children:"Update User Role"})]})]}):null]})}}}]);
//# sourceMappingURL=109.579aa694.chunk.js.map