{"version":3,"file":"static/js/217.bc41221b.chunk.js","mappings":"oLACA,EAAuB,qBAAvB,EAA2D,6BAA3D,EAA6G,mCAA7G,EAAiK,+BAAjK,EAA8M,4BAA9M,EAAyP,6B,wFCmGzP,EA3FoB,WAChB,OAAiBA,EAAAA,EAAAA,MAAVC,GAA6B,YAAvB,GACb,GAAwBC,EAAAA,EAAAA,MAAjBC,GAA2C,YAA9B,GACdC,GAAWC,EAAAA,EAAAA,MACTC,GAASC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,SAAS,IAAlDH,KACFI,GAAWC,EAAAA,EAAAA,MAEXC,EAAQ,yCAAG,yFAC8D,GAApDC,OAAOC,QAAQ,qCAClB,CAAD,yEAKMb,IAASc,SAAS,KAAD,GAAhCC,EAAM,QACDC,SACPC,EAAAA,GAAAA,QAAcF,EAAOG,SACrBf,GAASgB,EAAAA,EAAAA,OACTV,EAASW,EAAAA,EAAAA,MAAc,CAAEC,SAAS,KAElCJ,EAAAA,GAAAA,MAAYF,EAAOG,SACtB,kDAEDD,EAAAA,GAAAA,MAAY,KAAIK,KAAKJ,SAAW,oBAAoB,0DAE3D,kBAlBa,mCAoBRK,EAAe,yCAAG,yFACoE,GAAjEX,OAAOC,QAAQ,kDAClB,CAAD,yEAKMX,IAAgBY,SAAS,KAAD,GAAvCC,EAAM,QACDC,SACPC,EAAAA,GAAAA,QAAcF,EAAOG,SACrBf,GAASgB,EAAAA,EAAAA,OACTV,EAASW,EAAAA,EAAAA,OAAe,CAAEC,SAAS,KAEnCJ,EAAAA,GAAAA,MAAYF,EAAOG,SACtB,kDAEDD,EAAAA,GAAAA,MAAY,KAAIK,KAAKJ,SAAW,4BAA4B,0DAEnE,kBAlBoB,mCAoBrB,OACI,qBAASM,UAAWC,EAAY,WAC5B,iBAAKD,UAAWC,EAAoB,UAC3B,OAAJpB,QAAI,IAAJA,GAAAA,EAAMqB,KAAM,gBAAKC,IAAS,OAAJtB,QAAI,IAAJA,OAAI,EAAJA,EAAMqB,IAAKE,IAAI,cAAcC,QAAQ,OAAOC,MAAOzB,EAAK0B,QAAW,SAAC,MAAY,CAACD,MAAW,OAAJzB,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,QACrH,iBAAKP,UAAWC,EAA0B,WACtC,wBAAS,OAAJpB,QAAI,IAAJA,OAAI,EAAJA,EAAM0B,QACX,uBAAQ,OAAJ1B,QAAI,IAAJA,OAAI,EAAJA,EAAM2B,SACV,SAAC,KAAI,CAACC,GAAIb,EAAAA,EAAAA,cAAqB,UAC3B,mBAAQc,KAAK,SAASJ,MAAM,iBAAiBN,UAAWC,EAAsB,SAAC,sBAInF,SAAC,KAAI,CAACQ,GAAIb,EAAAA,EAAAA,eAAsB,UAC5B,mBAAQc,KAAK,SAASJ,MAAM,kBAAiB,SAAC,6BAM1D,iBAAKN,UAAWC,EAAmB,WAC/B,eAAID,UAAU,cAAa,SAAC,iBAC5B,iBAAKA,UAAWC,EAAoB,WAChC,SAAC,KAAI,CAACQ,GAAIb,EAAAA,EAAAA,OAAc,UACpB,mBAAQc,KAAK,SAASJ,MAAM,uBAAsB,SAAC,qBAIvD,SAAC,KAAI,CAACG,GAAIb,EAAAA,EAAAA,KAAY,UAClB,mBAAQc,KAAK,SAASJ,MAAM,aAAY,SAAC,YAI7C,mBAAQI,KAAK,SAASJ,MAAM,UAAUK,QAASxB,EAAS,SAAC,aAGzD,mBAAQuB,KAAK,SAASJ,MAAM,sBAAsBK,QAASZ,EAAgB,SAAC,2BAOhG,C","sources":["webpack://client/./src/components/features/user/styles.module.scss?d667","components/features/user/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__oIRsd\",\"user_profile\":\"styles_user_profile__y8+te\",\"user_profile__info\":\"styles_user_profile__info__fwKM-\",\"update_profile\":\"styles_update_profile__Oh+FL\",\"quick_links\":\"styles_quick_links__nRJrO\",\"button_group\":\"styles_button_group__zcCqa\"};","import styles from \"./styles.module.scss\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport routes from \"components/app/routes\";\r\nimport { useAppDispatch, useAppSelector } from \"store\";\r\nimport { useDeleteAccountMutation, useLogoutMutation } from \"store/queries\";\r\nimport { toast } from \"react-toastify\";\r\nimport { removeUser } from \"store/slices\";\r\n\r\nconst UserProfile = () => {\r\n    const [logout] = useLogoutMutation();\r\n    const [deleteAccount] = useDeleteAccountMutation();\r\n    const dispatch = useAppDispatch();\r\n    const { user } = useAppSelector((state) => state.authSlice);\r\n    const navigate = useNavigate();\r\n\r\n    const onLogout = async () => {\r\n        const reAssureAction = window.confirm(\"Are you sure you want to logout ?\");\r\n        if (!reAssureAction) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const result = await logout().unwrap();\r\n            if (result.success) {\r\n                toast.success(result.message);\r\n                dispatch(removeUser());\r\n                navigate(routes.login, { replace: true });\r\n            } else {\r\n                toast.error(result.message);\r\n            }\r\n        } catch (err: any) {\r\n            toast.error(err.data.message || \"Unable to logout\");\r\n        }\r\n    };\r\n\r\n    const onAccountDelete = async () => {\r\n        const reAssureAction = window.confirm(\"Are you sure you want to delete your account ?\");\r\n        if (!reAssureAction) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const result = await deleteAccount().unwrap();\r\n            if (result.success) {\r\n                toast.success(result.message);\r\n                dispatch(removeUser());\r\n                navigate(routes.signup, { replace: true });\r\n            } else {\r\n                toast.error(result.message);\r\n            }\r\n        } catch (err: any) {\r\n            toast.error(err.data.message || \"Unable to delete account\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section className={styles.user}>\r\n            <div className={styles.user_profile}>\r\n                {user?.pic ? <img src={user?.pic} alt=\"user avatar\" loading=\"lazy\" title={user.name} /> : <FaUserCircle title={user?.name} />}\r\n                <div className={styles.user_profile__info}>\r\n                    <h3>{user?.name}</h3>\r\n                    <p>{user?.email}</p>\r\n                    <Link to={routes.updateProfile}>\r\n                        <button type=\"button\" title=\"Update Profile\" className={styles.update_profile}>\r\n                            Update Profile\r\n                        </button>\r\n                    </Link>\r\n                    <Link to={routes.changePassword}>\r\n                        <button type=\"button\" title=\"Change Password\">\r\n                            Change Password\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            <div className={styles.quick_links}>\r\n                <h2 className=\"text-center\">Quick Links</h2>\r\n                <div className={styles.button_group}>\r\n                    <Link to={routes.orders}>\r\n                        <button type=\"button\" title=\"Browse Order History\">\r\n                            Order History\r\n                        </button>\r\n                    </Link>\r\n                    <Link to={routes.cart}>\r\n                        <button type=\"button\" title=\"Go To Cart\">\r\n                            Cart\r\n                        </button>\r\n                    </Link>\r\n                    <button type=\"button\" title=\"Log Out\" onClick={onLogout}>\r\n                        Log out\r\n                    </button>\r\n                    <button type=\"button\" title=\"Delete This Account\" onClick={onAccountDelete}>\r\n                        Delete Account\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":["useLogoutMutation","logout","useDeleteAccountMutation","deleteAccount","dispatch","useAppDispatch","user","useAppSelector","state","authSlice","navigate","useNavigate","onLogout","window","confirm","unwrap","result","success","toast","message","removeUser","routes","replace","data","onAccountDelete","className","styles","pic","src","alt","loading","title","name","email","to","type","onClick"],"sourceRoot":""}